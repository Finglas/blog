<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>Shaun Finglas - 2017</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/posts/default.xml" type="application/atom+xml" rel="alternate" title="Shaun Finglas Atom Feed" />

        <link rel="icon" type="image/png" sizes="32x32" href="/theme/images/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/theme/images/favicons/favicon-16x16.png">
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Shaun Finglas</a></h1>
 <h2>Agile software development &amp; programming - one lesson at a time.</h2>                <nav><ul>
                    <li><a href="/pages/about.html">About Me</a></li>
                    <li><a href="/pages/series.html">Series</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/2017/06/testing-your-composition-root.html">Testing your Composition Root</a></h1>
<footer class="post-info">
        <abbr class="published" title="2017-06-27T00:00:00+02:00">
                Published: Tue 27 June 2017
        </abbr>

<p>tags: <a href="/tag/tutorial.html">tutorial</a> <a href="/tag/testing.html">testing</a> </p>
</footer><!-- /.post-info --><p>Separating configuration from your code itself is a good practice. Unfortunately this can quite be
quite complex in itself. In fact it is fair to say that in many cases the use of
<a href="/2014/11/dependency-injection-di-containers.html">DI containers</a> to achieve this can be overkill
for a task that should be rather basic.</p>
<p>Recently a project I've been involved with has struggled with the configuration of dependencies.
This lead to the dreaded runtime error, even though at compile time everything was seemingly
normal. This late feedback was compounded by the fact that getting the system up and running
locally is a chore, so in many cases it was CI that was detecting these issues after a deploy.</p>
<h2>Solution</h2>
<p>The general practice states that your tests shouldn't need to use your production configuration.
However in this case the solution was to invoke the configuration and force it to resolve. This
test was odd in the sense that it does nothing other than successfully resolve. The fact that no
unhandled exception is thrown is good enough. Note there is only one new test here, all other unit
tests remain as-is, they are still separate from the use of the production configuration. All
this test does is ensure all wiring up and dependencies are satisfied. In cases where config
from an external file is used, that too will be exercised.</p>
<h2>Example</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="na">[Test]</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigurationTest</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">container</span> <span class="p">=</span> <span class="n">Container</span><span class="p">.</span><span class="n">Resolve</span><span class="p">();</span>
    <span class="n">container</span><span class="p">.</span><span class="n">Resolve</span><span class="p">&lt;</span><span class="n">RootType</span><span class="p">&gt;();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>The actual resolution aspect on line 5 is optional. There may be other ways to force resolution,
this may vary based on what library you use. In this example only one type is resolved. If your
project includes multiple entry points such as numerous controllers you may need to include these
as well.</p>
<p>Hopefully the error that is thrown when this resolution fails is useful. Most DI libraries are
fairly good in this regard. Even so it may be worth documenting this test with the steps that
a developer would have to go through in order to fix.</p>
<h2>Dynamic Languages</h2>
<p>Even though DI libraries are a rare thing in dynamic languages, the use of a composition root
is still needed. Therefore I'd recommend a similar test be applied to dynamic languages to keep
the feedback loop fast.</p>
<h2>Lessons</h2>
<ul>
<li>Don't test your composition root in your current unit tests.</li>
<li>Do include a single test that resolves your root dependencies.</li>
<li>Include appropriate messaging to show how to fix the issue.</li>
<li>Dynamic languages should aim to test their composition root can resolve also.</li>
</ul>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/05/logging-vs-auditing.html" rel="bookmark"
                           title="Permalink to Logging vs Auditing">Logging vs Auditing</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-05-02T00:00:00+02:00">
                Published: Tue 02 May 2017
        </abbr>

<p>tags: <a href="/tag/summary.html">summary</a> </p>
</footer><!-- /.post-info -->                <p>The difference between logging and auditing is a subtle yet important
distinction.</p>
<h3>Logging</h3>
<ul>
<li>Technical in nature. Deals with technical concerns, stacktraces or
    errors.</li>
<li>Additional levels such as DEBUG, INFO, WARN, ERROR, FATAL for
    classification.</li>
<li>Logging can be simple such as traditional stdout statements, or more
    complex with semantic/structured logging …</li></ul>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/04/the-qa-test-matrix.html" rel="bookmark"
                           title="Permalink to The QA Test Matrix">The QA Test Matrix</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-04-03T00:00:00+02:00">
                Published: Mon 03 April 2017
        </abbr>

<p>tags: <a href="/tag/testing.html">testing</a> </p>
</footer><!-- /.post-info -->                <p>Historically teams I've worked with have taken a few varying approaches
when designing tests against acceptance criteria. One is to have the
business define the feature, while the team help define the acceptance
criteria. Ultimately the business gets the final say if they agree, and
further acceptance criteria is either …</p>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/01/be-humble.html" rel="bookmark"
                           title="Permalink to Be Humble">Be Humble</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-18T00:00:00+01:00">
                Published: Wed 18 January 2017
        </abbr>

<p>tags: <a href="/tag/retro.html">retro</a> </p>
</footer><!-- /.post-info -->                <p>Some of the best developers I know treat everyone with mutual respect.
Not only this they are open about what they do know and what they don't
know. In fact they'll often proclaim “I don't know” and go about finding
out how they can answer your question or solve a …</p>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/01/convention-based-tests.html" rel="bookmark"
                           title="Permalink to Convention Based Tests">Convention Based Tests</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-11T00:00:00+01:00">
                Published: Wed 11 January 2017
        </abbr>

<p>tags: <a href="/tag/tutorial.html">tutorial</a> <a href="/tag/testing.html">testing</a> </p>
</footer><!-- /.post-info -->                <p>Most projects have some form of convention. Examples would include:</p>
<ul>
<li>Attributes/Properties for REST API's</li>
<li>Inheritance for third party base types</li>
<li>Assemblies/Packages for third party code that is loaded dynamically</li>
<li>Folder or namespace conventions</li>
<li>And many other forms of conventions</li>
</ul>
<p>In a few of these examples static analysis can …</p>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/2017/01/finance-for-software-developers.html" rel="bookmark"
                           title="Permalink to Finance For Software Developers">Finance For Software Developers</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-04T00:00:00+01:00">
                Published: Wed 04 January 2017
        </abbr>

<p>tags: <a href="/tag/tutorial.html">tutorial</a> </p>
</footer><!-- /.post-info -->                <p>Back at the start of 2016 I set about sorting my personal finances out,
inspired by <a href="https://www.amazon.co.uk/d/Books/Soft-Skills-software-developers-manual/1617292397">Soft
Skills</a>.
The book makes a point to consider passive income as a viable solution
to wealth building. The reason for this is simple, software developers
tend to get paid well if working professionally …</p>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <ul>
                            <li><a href="/feeds/posts/default.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://twitter.com/ShaunFinglas">Twitter</a></li>
                            <li><a href="https://github.com/Finglas">Github</a></li>
                            <li><a href="https://www.linkedin.com/in/shaunfinglas/">LinkedIn</a></li>
                            <li><a href="https://stackoverflow.com/users/102482/finglas">StackOverflow</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Proudly powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>.</p>
                <p id="disclaimer">Disclaimer: The posts on this site are my own and don't necessarily represent my employers positions, strategies, or opinions.</p>
                <p>Copyright &copy; Shaun Finglas 2017</p>
        </footer><!-- /#contentinfo -->

</body>
</html>