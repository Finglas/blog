<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>Dependency Injection (DI) Containers</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Shaun Finglas  <strong>Agile software development & programming - one lesson at a time.</strong></a></h1>
                <nav><ul>
                    <li><a href="/pages/p/about.html">About Me</a></li>
                    <li><a href="/pages/p/series.html">Series</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/2014/11/dependency-injection-di-containers.html" rel="bookmark"
           title="Permalink to Dependency Injection (DI) Containers">Dependency Injection (DI) Containers</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-11-01T00:00:00+01:00">
                Published: Sat 01 November 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/shaun-finglas.html">Shaun Finglas</a>
        </address>
<p>In <a href="/category/2014.html">2014</a>.</p>
<p>tags: <a href="/tag/programming.html">programming</a> </p>
</footer><!-- /.post-info -->      <h2>Strengths</h2>
<dl>
<dt>One place for configuration</dt>
<dd>Rather than scattered through out the system. Most DI containers
have some sort of "module" system where you group associated
components together.</dd>
<dt>Scoping</dt>
<dd>Different types of lifestyle can be achieved. Per request, per
thread, singleton and others. Usually other frameworks have the
ability to plug into these containers, meaning such features
integrate nicely.</dd>
<dt>Feature rich</dt>
<dd>Included along with the basic DI components is usually a large
amount of additional features which may or may not be needed.</dd>
</dl>
<hr>
<h2>Weaknesses</h2>
<dl>
<dt>Heavyweight</dt>
<dd>Usually in the form of frameworks or libraries. DI is a simple
concept, but such containers can make getting to grips with it
tremendously difficult.</dd>
<dt>Config</dt>
<dd>Configuration can be difficult. Rather than just applying DI you
need to learn the tooling. XML configuration has widely fell out of
favour, but even code based configurations can be costly to setup.</dd>
<dt>Runtime errors</dt>
<dd>Any errors that might have occurred at compile time (in a static
language) now become runtime errors. Circular references are easily
introduced if you are not careful. Made a mistake during
configuration? The system will be out of action. If you're lucky the
stacktrace can point you in the right direction, but usually these
are vague and/or confusing.</dd>
<dt>Magic</dt>
<dd>With the container in charge you lose control of what should be an
easy part of your development process. The more convention based
configuration you apply, the more chance things can go wrong. Simple
changes such as multiple implementations of an interface can prove
difficult to configure without breaking previous conventions. Much
of the time adding a new class to the system feels risky - you won't
know until runtime if you've got it working.</dd>
</dl>
<hr>
<h2>Alternatives</h2>
<dl>
<dt>KISS</dt>
<dd>Keep your dependency wiring at your application root - most likely
main. This is my preferred, default approach to begin with.</dd>
</dl>
<script src="https://gist.github.com/Finglas/db42de9f16000e638315.js"></script>

<dl>
<dt>KISS - Modules</dt>
<dd>If this configuration starts to get out of hand - use modules. Need
to modify how the kitchen is built? Just open up KitchenModule.cs.
With direct access to the references of these dependencies you can
control scoping. For example you can re-use the same kitchen
instance between house instances.</dd>
</dl>
<script src="https://gist.github.com/Finglas/f93f595960e8158ba8f2.js"></script>

<dl>
<dt>Refacator</dt>
<dd>As always you can <a href="http://blog.thecodewhisperer.com/2011/12/07/refactor-your-way-to-a-dependency-injection-container/">refactor towards an DI
container</a>
if you feel the need to use one.</dd>
</dl>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/ShaunFinglas">Twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>