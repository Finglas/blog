Title: The Best Code is Written Twice
Date: 2011-10-01
Author: Shaun Finglas
Tags: programming, retro
Slug: 2011/10/the-best-code-is-written-twice

Recently myself and two colleges completed a new feature in an
afternoon's programming session. Despite this we ended up binning the
feature after all agreeing it was horribly complicated and in turn would
cause far more problems down the road than it would solve.

We decided to rewrite the feature again, but applying all the lessons we
had learned from the first attempt. A recent [blog post by
royvanrijn](http://www.redcode.nl/blog/2011/10/great-code-is-written-twice-or-more/)
on this very topic made me appreciate what we had done. He points out
that the best code occurs from several attempts, and unlike what people
may expect, the repeat attempts need not take the same amount of time to
deliver as the initial attempt.

> The second time you write the code, it'll only take a fraction of the
> time it took initially.

This principle of repeating a task made me think of when I was
decorating my old bedroom. I helped partake in the difficult task of
wallpapering the ceiling. Prior to this I had experience wallpapering
before, and would have no trouble repeating this exercise again.
However, wallpapering a ceiling was something completely new. Me and my
dad were reluctant to start, until I had a rather devious plan. We would
decorate my brothers room first, followed by mine. That way, if our
first attempt was a disaster I would not be the one living with the
dodgy ceiling.

It turned out that our first efforts were not too bad. Granted it took a
while, there was the odd rough patch and several obscenities were used,
but we got the job done. For the second room we completed the task much
quicker and with practically no problems.

The process of wallpapering the second ceiling was the DIY equivalent of
scrapping our feature and rewriting the code. We never stripped the
first ceiling afterwards, we just took everything we learned from the
first round and used it to make the process of papering the second
ceiling much easier. The interesting point to bare in mind with
scrapping code and rewriting is the rewrite will not take the same
amount of time to get back up to speed. Just because it takes *n* to
implement a feature, the second time around you can often complete the
feature in less time, at much higher quality.

I'm not suggesting all code should be rewritten multiple times. [Spike
solutions](http://www.extremeprogramming.org/rules/spike.html) are often
a more suitable process to ease the development process, but in certain
cases practice makes perfect, even if it means you wait that little bit
longer for the perfect ceiling.